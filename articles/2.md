---
title: "ワイルドカード（％）配置場所の覚え方"
description: '筆者のワイルドカード（％）配置場所の覚え方を紹介します'
date: 2024-01-07
category: sql
---
データベースからデータを取得する際にワイルドカード（％）を文字列検索時にどこに配置したらいいのか分からなくなる時ありませんか。
筆者は今回シェアする覚え方を知るまで毎回頭混乱していました。
もし未だ混乱するときがあるって方は是非これから紹介するtipsを参考にしてみてください。

**Tips**
結論から言うと
**％を"～"と置換する** だけです。


具体例を見てみましょう。

下記のようなfruitテーブルをもつデータベースがあります。

| ID | name | dest |
| ---- | ---- | ---- |
| 1 | なつみかん | 愛媛 |
| 2 | りんご | 青森 |
| 3 | すいかバー | 山形 |
| 4 | 冷凍みかん | 和歌山 |
| 5 | りんごジュース | 長野 |
| 6 | みかんジュース | 静岡 |
| 7 | みかんプリン | 熊本 |
| 8 | すいか | 千葉 |

このデータベースから名前に"みかん"が入っているデータを取得したい場合（完全一致検索）には

```sql
SELECT name
FROM fruit
WHERE name LIKE "%みかん%";
```
とSQL文を書くと

| ID | name | dest |
| ---- | ---- | ---- |
| 1 | なつみかん | 愛媛 |
| 4 | 冷凍みかん | 和歌山 |
| 6 | みかんジュース | 静岡 |
| 8 | みかんプリン | 熊本 |

のようにnameに"みかん"が一致した文字列のレコードが取得できます。

この場合だと前後いずれかに"みかん"が入っていればよく%の配置場所は文字列の前後に配置すればよいのでさほど困らないかと思います。

では次にnameに"みかん"から始まるデータのみ取得したい場合（前方一致検索）だとワイルドカード（％）はどちらに配置したらいいでしょうか。

正解のSQL文は下記になります。
```sql
SELECT name
FROM fruit
WHERE name LIKE "みかん%";
```
実行結果は
| ID | name | dest |
| ---- | ---- | ---- |
| 6 | みかんジュース | 静岡 |
| 8 | みかんプリン | 熊本 |